(()=>{"use strict";var e={964:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(81),o=n.n(i),r=n(645),s=n.n(r)()(o());s.push([e.id,".modal {\n  display: none;\n}\n\n.modal-open {\n  display: block;\n}\n\n.modal-backdrop {\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n\n  background: rgba(0, 0, 0, 0.35);\n}\n\n.modal-container {\n  width: fit-content;\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 10;\n\n  border-radius: 8px;\n\n  text-align: center;\n  position: relative;\n}\n\n@media (max-width: 600px) {\n  #movie-info-modal {\n    height: 60vh;\n  }\n\n  .modal-container {\n    width: 100%;\n    position: fixed;\n    bottom: 0;\n    top: 50%;\n    left: auto;\n    transform: none;\n  }\n}\n",""]);const a=s},923:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(81),o=n.n(i),r=n(645),s=n.n(r)()(o());s.push([e.id,".button {\n  width: 100%;\n  height: 44px;\n  background-color: var(--primary-color);\n  color: #fff;\n  border-radius: 8px;\n  text-align: center;\n}\n",""]);const a=s},247:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(81),o=n.n(i),r=n(645),s=n.n(r)()(o());s.push([e.id,".button-box {\n  display: flex;\n  gap: 20px;\n}\n\n#retry-button {\n  width: 120px;\n  height: 50px;\n  font-size: 16px;\n  font-weight: 600;\n}\n\n#home-button {\n  width: 120px;\n  height: 50px;\n  font-size: 16px;\n  font-weight: 600;\n  background-color: rgb(139, 139, 139);\n}\n\n#error-title {\n  font-size: 20px;\n}\n\n@media (max-width: 600px) {\n  #error-title {\n    max-width: 300px;\n    height: 50px;\n  }\n}\n",""]);const a=s},765:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(81),o=n.n(i),r=n(645),s=n.n(r)()(o());s.push([e.id,".error {\n  width: 80vw;\n  height: 300px;\n  display: flex;\n  flex-direction: column;\n  text-align: center;\n  justify-content: center;\n  align-items: center;\n  width: 1200px;\n  gap: 30px;\n  margin-top: 200px;\n}\n\n#error-text {\n  color: #fff;\n  display: flex;\n  align-items: flex-start;\n  flex-direction: column;\n  gap: 10px;\n  width: 460px;\n  font-size: 18px;\n\n  background-color: #3f3f3f;\n  padding: 20px;\n  border-radius: 8px;\n\n  white-space: pre-line;\n}\n\n@media (max-width: 600px) {\n  .error {\n    margin-top: 50px;\n    width: 300px;\n    height: 300px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  #error-text {\n    color: #fff;\n    display: flex;\n    align-items: flex-start;\n    flex-direction: column;\n    gap: 10px;\n    width: 340px;\n    font-size: 18px;\n\n    background-color: #3f3f3f;\n    padding: 20px;\n    border-radius: 8px;\n  }\n}\n\n#error-img {\n  width: 100px;\n  height: 100px;\n}\n",""]);const a=s},628:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(81),o=n.n(i),r=n(645),s=n.n(r)()(o());s.push([e.id,"header {\n  width: 100%;\n  height: 72px;\n  background-color: #222;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 20px;\n  border-bottom: 1px solid white;\n  margin-bottom: 48px;\n}\n\nheader h1 {\n  cursor: pointer;\n  user-select: none;\n  font-size: 2rem;\n  font-weight: bold;\n  letter-spacing: -0.1rem;\n  color: #f33f3f;\n}\n",""]);const a=s},96:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(81),o=n.n(i),r=n(645),s=n.n(r)()(o());s.push([e.id,"#movie-info-modal {\n  width: 826px;\n  height: 577px;\n  border: 8px;\n  background-color: var(--grey-5);\n\n  position: relative;\n}\n\n#movie-info-modal-header {\n  height: 60px;\n  text-align: center;\n\n  border-bottom: 1px solid var(--grey-3);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  font-size: 20px;\n  font-weight: 500;\n}\n\n#movie-info-flex-wrapper {\n  display: flex;\n\n  justify-content: center;\n  gap: 30px;\n  align-items: center;\n  height: calc(100% - 60px);\n}\n\n#movie-info-poster {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 292px;\n  height: 438px;\n  border-radius: 8px;\n  background-color: var(--grey-3);\n}\n\n#movie-info-detail-box {\n  width: 438px;\n  font-size: 16px;\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  height: 438px;\n  position: relative;\n}\n\n#movie-info-score-box {\n  display: flex;\n  align-items: center;\n  gap: 5px;\n}\n\n#movie-info-score {\n  padding-top: 4px;\n}\n\n#movie-info-genre-score-box {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n}\n\n.star-icon {\n  width: 24px;\n  height: 24px;\n}\n\n#movie-overview {\n  width: 100%;\n  text-align: start;\n  line-height: 1.5;\n  height: 300px;\n  overflow-y: scroll;\n}\n\n.modal-close-button {\n  width: 36px;\n  height: 36px;\n  background-color: var(--grey-4);\n\n  border-radius: 50%;\n\n  position: absolute;\n  top: 10px;\n  right: 10px;\n}\n\n.modal-close-button:hover {\n  background-color: var(--grey-3);\n}\n\n@media (max-width: 800px) {\n  #movie-info-modal {\n    width: 740px;\n    height: 544px;\n  }\n\n  #movie-info-poster {\n    width: 260px;\n    height: 400px;\n  }\n\n  #movie-info-detail-box {\n    margin: 32px;\n    height: 400px;\n  }\n\n  #movie-overview {\n    height: 260px;\n  }\n}\n\n@media (max-width: 600px) {\n  #movie-info-modal-header {\n    justify-content: start;\n    padding: 0 32px;\n  }\n\n  #movie-info-poster {\n    display: none;\n  }\n\n  #movie-overview {\n    height: 212px;\n  }\n\n  #user-vote-box {\n    bottom: 50px !important;\n  }\n\n  #movie-info-detail-box {\n    width: 100%;\n  }\n\n  #score-info {\n    display: none !important;\n  }\n}\n",""]);const a=s},596:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(81),o=n.n(i),r=n(645),s=n.n(r)()(o());s.push([e.id,".item-card {\n  width: 100%;\n}\n\n.item-card .skeleton {\n  background: linear-gradient(-90deg, #aaa, #f0f0f0, #aaa, #f0f0f0);\n  background-size: 400%;\n  animation: skeleton-animation 5s infinite ease-out;\n  border-radius: 8px;\n\n  transition: 0.3s all ease-out;\n}\n\n.item-thumbnail:hover {\n  transform: scale(1.1);\n  transition: 0.3s all ease-in-out;\n}\n\n.item-thumbnail {\n  background: #aaa;\n  animation: fade-in 0.7s;\n  border-radius: 8px;\n}\n\n.item-thumbnail {\n  border-radius: 8px;\n  width: 180px;\n  height: 270px;\n  background-size: contain;\n}\n\n.item-card {\n  display: flex;\n  flex-direction: column;\n}\n\n.item-title {\n  width: 100%;\n  margin-top: 16px;\n  font-size: 1.2rem;\n  font-weight: bold;\n  line-height: 1.5;\n}\n\n.item-score {\n  margin-top: 16px;\n  font-size: 1.2rem;\n}\n\n.item-score::after {\n  margin-left: 8px;\n}\n\n.item-title.skeleton::after,\n.item-score.skeleton::after {\n  font-size: 0;\n  content: 'loading';\n}\n\n.item-score {\n  display: flex;\n  align-items: center;\n  height: 20px;\n  gap: 5px;\n}\n\n.item-score span {\n  padding-top: 5px;\n}\n\n.no-image {\n  width: 100%;\n  height: 270px;\n  background-color: var(--grey-4);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 8px;\n}\n\n.no-image-icon {\n  width: 30px;\n  height: 30px;\n}\n\n@keyframes fade-in {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n@keyframes skeleton-animation {\n  0% {\n    background-position: 0% 50%;\n  }\n  50% {\n    background-position: 100% 50%;\n  }\n  100% {\n    background-position: 0% 50%;\n  }\n}\n",""]);const a=s},675:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(81),o=n.n(i),r=n(645),s=n.n(r)()(o());s.push([e.id,"#list-title {\n  width: 100%;\n  font-size: 2rem;\n  font-weight: bold;\n  width: 100%;\n  user-select: none;\n}\n\n.item-test {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.item-view {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  max-width: 1200px;\n  margin: 0 auto;\n}\n\n.item-box {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  margin: 0 auto;\n}\n\n.item-list {\n  margin: 0 auto;\n}\n\n.grid {\n  display: grid;\n  margin: 48px 0;\n  grid-template-columns: repeat(4, 180px);\n  grid-column-gap: 160px;\n  grid-row-gap: 48px;\n}\n\n@media (max-width: 1100px) {\n  #list-title {\n    width: 960px;\n  }\n\n  .grid {\n    grid-column-gap: 80px;\n    grid-row-gap: 40px;\n  }\n\n  .item-thumbnail {\n    width: 180px;\n    height: 270px;\n    display: flex;\n    flex-direction: column;\n  }\n\n  .item-title {\n    height: 50px;\n  }\n}\n\n@media (max-width: 960px) {\n  #list-title {\n    width: 660px;\n  }\n\n  .grid {\n    grid-template-columns: repeat(3, 180px);\n    grid-column-gap: 60px;\n    grid-row-gap: 40px;\n  }\n\n  .item-thumbnail {\n    width: 180px;\n    height: 270px;\n  }\n\n  .item-title {\n    height: 50px;\n  }\n}\n\n@media (max-width: 600px) {\n  #list-title {\n    width: 360px;\n  }\n\n  .grid {\n    grid-template-columns: repeat(2, 150px);\n    grid-column-gap: 80px;\n    grid-row-gap: 20px;\n  }\n\n  .item-card {\n    width: 150px;\n    padding-top: 10px;\n  }\n\n  .item-thumbnail {\n    width: 150px;\n    height: 210px;\n  }\n\n  .no-image {\n    height: 210px;\n  }\n\n  .item-title {\n    font-size: 16px;\n    height: 45px;\n  }\n}\n",""]);const a=s},882:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(81),o=n.n(i),r=n(645),s=n.n(r)()(o());s.push([e.id,".search-box {\n  background: white;\n  border-radius: 4px;\n  height: 40px;\n}\n\n.show {\n  display: block;\n}\n\n#input-show-button {\n  width: 37px;\n  height: 35px;\n  border: 4px;\n\n  position: absolute;\n  right: 30px;\n\n  background-color: white;\n  border-radius: 8px;\n}\n\n#input-show-button img {\n  width: 20px;\n  height: 20px;\n}\n\n#search-button {\n  height: 40px;\n  width: 40px;\n  border-radius: 8px;\n}\n\n#search-icon {\n  width: 20px;\n  height: 20px;\n}\n\n#input-fold-button {\n  width: 30px;\n  height: 60px;\n  color: white;\n}\n\n#search-input {\n  width: 200px;\n}\n\n#search-input.open {\n  padding: 0 8px;\n}\n\n@media (max-width: 660px) {\n  #search-input {\n    width: calc(100vw - 120px);\n    animation: expand 0.5s linear;\n    padding: 0;\n  }\n\n  #search-input.shrink {\n    animation: shrink 0.5s linear forwards;\n  }\n}\n\n@keyframes shrink {\n  from {\n    width: calc(100vw - 120px);\n  }\n  to {\n    width: 0;\n  }\n}\n\n@keyframes expand {\n  from {\n    width: 0;\n  }\n  to {\n    width: calc(100vw - 120px);\n  }\n}\n",""]);const a=s},17:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(81),o=n.n(i),r=n(645),s=n.n(r)()(o());s.push([e.id,".toast-message {\n  opacity: 1;\n  visibility: visible;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 18px;\n\n  min-width: 300px;\n  height: 50px;\n  text-align: center;\n\n  background-color: rgb(191, 59, 59);\n\n  position: fixed;\n  left: 50%;\n  bottom: 100px;\n  transform: translateX(-50%);\n  color: white;\n  padding: 15px;\n  border-radius: 10px;\n  z-index: 1000;\n  box-shadow: 3px 4px 11px 0px #00000040;\n  transition: all 0.5s;\n}\n\n.hide-toast {\n  animation: fadeout 1s;\n  -webkit-animation: fadeout 1s;\n  animation-fill-mode: forwards;\n}\n\n@keyframes fadeout {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n\n@-webkit-keyframes fadeout {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n",""]);const a=s},145:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(81),o=n.n(i),r=n(645),s=n.n(r)()(o());s.push([e.id,"#top-scroll-button {\n  width: 50px;\n  height: 50px;\n\n  border: 3px solid var(--primary-color);\n\n  border-radius: 50%;\n  color: var(--primary-color);\n  font-weight: 600;\n  position: fixed;\n  bottom: 20px;\n  right: 20px;\n  z-index: 1;\n  display: none;\n}\n\n#top-scroll-button.show {\n  display: block;\n}\n\n#top-scroll-button.show:hover {\n  background-color: rgba(233, 169, 169, 0.746);\n  color: rgb(161, 55, 55);\n  border: 3px solid rgb(161, 55, 55);\n}\n",""]);const a=s},385:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(81),o=n.n(i),r=n(645),s=n.n(r)()(o());s.push([e.id,"#user-vote-box {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 64px;\n  background-color: var(--grey-4);\n  border-radius: 16px;\n  position: absolute;\n  bottom: 0;\n  gap: 5px;\n}\n\n#score-title {\n  width: 70px;\n  padding: 0 10px;\n}\n\n#star-with-info-box {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 300px;\n}\n\n#star-box {\n  width: 150px;\n}\n\n#score-info {\n  width: 130px;\n  padding-left: 10px;\n  display: flex;\n  gap: 10px;\n}\n\n.star {\n  width: 32px;\n  transition: box-shadow 0.3s ease;\n}\n\n.star:hover {\n  filter: drop-shadow(0 0 10px yellow);\n}\n",""]);const a=s},423:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(81),o=n.n(i),r=n(645),s=n.n(r)()(o());s.push([e.id,":root {\n  --primary-color: #f33f3f;\n  --grey-5: #212122;\n  --grey-4: #383839;\n  --grey-3: rgba(241, 241, 241, 0.25);\n  --grey-1: #888888;\n}\n\n.line-overflow {\n  padding: 0 5px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.multi-lines-overflow {\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  -webkit-line-clamp: 2;\n}\n\n.flex-center {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n",""]);const a=s},566:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(81),o=n.n(i),r=n(645),s=n.n(r)()(o());s.push([e.id,"* {\n  box-sizing: border-box !important;\n\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n\n  line-height: 1.5;\n}\n\nbody {\n  font-size: 14px;\n  background-color: #222222;\n  color: #fff;\n}\n\na {\n  color: inherit;\n  text-decoration: none;\n}\n\nbutton {\n  cursor: pointer;\n}\n\n#app {\n  padding-bottom: 48px;\n}\n\n*:focus {\n  outline: none;\n}\n\n.full-width {\n  width: 100%;\n}\n\n.last-item {\n  margin-top: 48px;\n}\n\n#more-button {\n  margin-top: 20px;\n}\n",""]);const a=s},734:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(81),o=n.n(i),r=n(645),s=n.n(r)()(o());s.push([e.id,"/* http://meyerweb.com/eric/tools/css/reset/\n   v2.0 | 20110126\n   License: none (public domain)\n*/\n\nhtml,\nbody,\ndiv,\nspan,\napplet,\nobject,\niframe,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\np,\nblockquote,\npre,\na,\nabbr,\nacronym,\naddress,\nbig,\ncite,\ncode,\ndel,\ndfn,\nem,\nimg,\nins,\nkbd,\nq,\ns,\nsamp,\nsmall,\nstrike,\nstrong,\nsub,\nsup,\ntt,\nvar,\nb,\nu,\ni,\ncenter,\ndl,\ndt,\ndd,\nol,\nul,\nli,\nfieldset,\nform,\nlabel,\nlegend,\ntable,\ncaption,\ntbody,\ntfoot,\nthead,\ntr,\nth,\ntd,\narticle,\naside,\ncanvas,\ndetails,\nembed,\nfigure,\nfigcaption,\nfooter,\nheader,\nhgroup,\nmenu,\nnav,\noutput,\nruby,\nsection,\nsummary,\ntime,\nmark,\naudio,\nvideo {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  font-size: 100%;\n  font: inherit;\n  vertical-align: baseline;\n  list-style: none;\n}\n\n/* HTML5 display-role reset for older browsers */\narticle,\naside,\ndetails,\nfigcaption,\nfigure,\nfooter,\nheader,\nhgroup,\nmenu,\nnav,\nsection {\n  display: block;\n}\nbody {\n  line-height: 1;\n}\nol,\nul {\n  list-style: none;\n}\nblockquote,\nq {\n  quotes: none;\n}\nblockquote:before,\nblockquote:after,\nq:before,\nq:after {\n  content: '';\n  content: none;\n}\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\nli {\n  text-decoration: 0;\n}\n\nbutton {\n  background: none;\n  border: 0;\n  cursor: pointer;\n}\ninput {\n  border: none;\n}\n",""]);const a=s},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",i=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),i&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),i&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,i,o,r){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(i)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(s[c]=!0)}for(var d=0;d<e.length;d++){var l=[].concat(e[d]);i&&s[l[0]]||(void 0!==r&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=r),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),t.push(l))}},t}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var t=[];function n(e){for(var n=-1,i=0;i<t.length;i++)if(t[i].identifier===e){n=i;break}return n}function i(e,i){for(var r={},s=[],a=0;a<e.length;a++){var c=e[a],d=i.base?c[0]+i.base:c[0],l=r[d]||0,h="".concat(d," ").concat(l);r[d]=l+1;var p=n(h),m={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)t[p].references++,t[p].updater(m);else{var u=o(m,i);i.byIndex=a,t.splice(a,0,{identifier:h,updater:u,references:1})}s.push(h)}return s}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var r=i(e=e||[],o=o||{});return function(e){e=e||[];for(var s=0;s<r.length;s++){var a=n(r[s]);t[a].references--}for(var c=i(e,o),d=0;d<r.length;d++){var l=n(r[d]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}r=c}}},569:e=>{var t={};e.exports=function(e,n){var i=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var i="";n.supports&&(i+="@supports (".concat(n.supports,") {")),n.media&&(i+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(i+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),i+=n.css,o&&(i+="}"),n.media&&(i+="}"),n.supports&&(i+="}");var r=n.sourceMap;r&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleTagTransform(i,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(i){var o=t[i];if(void 0!==o)return o.exports;var r=t[i]={id:i,exports:{}};return e[i](r,r.exports,n),r.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var i=t.getElementsByTagName("script");i.length&&(e=i[i.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.nc=void 0,(()=>{var e=n(379),t=n.n(e),i=n(795),o=n.n(i),r=n(569),s=n.n(r),a=n(565),c=n.n(a),d=n(216),l=n.n(d),h=n(589),p=n.n(h),m=n(734),u={};u.styleTagTransform=p(),u.setAttributes=c(),u.insert=s().bind(null,"head"),u.domAPI=o(),u.insertStyleElement=l(),t()(m.Z,u),m.Z&&m.Z.locals&&m.Z.locals;var g=n(423),x={};x.styleTagTransform=p(),x.setAttributes=c(),x.insert=s().bind(null,"head"),x.domAPI=o(),x.insertStyleElement=l(),t()(g.Z,x),g.Z&&g.Z.locals&&g.Z.locals;var f=n(566),v={};v.styleTagTransform=p(),v.setAttributes=c(),v.insert=s().bind(null,"head"),v.domAPI=o(),v.insertStyleElement=l(),t()(f.Z,v),f.Z&&f.Z.locals&&f.Z.locals;const b=n.p+"images/logo.png",w=()=>{const e=window.location.pathname,t=e.substring(e.lastIndexOf("/"));return t.startsWith("/")?t.substring(1):t},y=e=>new URLSearchParams(window.location.search).get(e),E=(e,t)=>{const n=new URLSearchParams(window.location.search);n.set(e,t),window.history.replaceState({},"",`${window.location.pathname}?${n}`)},S=()=>{window.history.replaceState({},"","https://ooherin.github.io/javascript-movie-review/dist/")},k="https://api.themoviedb.org/3",L={POPULAR_MOVIES:`${k}/movie/popular`,SEARCH_MOVIES:`${k}/search/movie`},I=e=>`${k}/movie/${e}`,A="https://image.tmdb.org/t/p/w220_and_h330_face/",T="query",B="search";var Z=n(882),C={};C.styleTagTransform=p(),C.setAttributes=c(),C.insert=s().bind(null,"head"),C.domAPI=o(),C.insertStyleElement=l(),t()(Z.Z,C),Z.Z&&Z.Z.locals&&Z.Z.locals;var P=n(17),M={};M.styleTagTransform=p(),M.setAttributes=c(),M.insert=s().bind(null,"head"),M.domAPI=o(),M.insertStyleElement=l(),t()(P.Z,M),P.Z&&P.Z.locals&&P.Z.locals;const q=class{constructor(e){this.toastMessage=document.createElement("div"),this.toastMessage.classList.add("toast-message"),this.toastMessage.textContent=e;const t=document.querySelector("main");t&&(t.append(this.toastMessage),this.toastOn(),this.removeToast())}toastOn(){this.toastMessage.classList.remove("hide-toast"),setTimeout((()=>{this.toastMessage.classList.add("hide-toast")}),2e3)}removeToast(){setTimeout((()=>{this.toastMessage.remove()}),4e3)}},R=n.p+"images/search_button.png";var _=n(628),N={};N.styleTagTransform=p(),N.setAttributes=c(),N.insert=s().bind(null,"head"),N.domAPI=o(),N.insertStyleElement=l(),t()(_.Z,N),_.Z&&_.Z.locals&&_.Z.locals;const O=n.p+"images/star_filled.png",z=n.p+"images/no_image.png";var j=n(596),F={};F.styleTagTransform=p(),F.setAttributes=c(),F.insert=s().bind(null,"head"),F.domAPI=o(),F.insertStyleElement=l(),t()(j.Z,F),j.Z&&j.Z.locals&&j.Z.locals;class D{constructor({skeletonTemplate:e,movie:t,rerenderModal:n}){this.movie=t,this.itemCard=e.querySelector("a"),this.itemThumbnail=e.querySelector("img"),this.itemTitle=e.querySelector("div"),this.itemScore=e.querySelector("p"),this.rerenderModal=n,this.setEvent()}render(){const{title:e,posterPath:t,voteAverage:n}=this.movie;this.createThumbnail(e,t),this.createTitle(e),this.createScore(n)}setEvent(){this.itemCard.addEventListener("click",(async()=>{document.querySelector("#top-scroll-button")?.classList.remove("show"),E("movie_id",String(this.movie.id)),document.querySelector(".modal")?.classList.add("modal-open"),this.rerenderModal(this.movie.id)}))}createThumbnail(e,t){if(t)this.itemThumbnail.setAttribute("loading","lazy"),this.itemThumbnail.classList.add("item-thumbnail"),this.itemThumbnail.setAttribute("src",A+t),this.itemThumbnail.setAttribute("alt",e);else{const e=D.createNoImage();this.itemThumbnail.replaceWith(e)}}static createNoImage(){const e=document.createElement("div");e.classList.add("no-image");const t=document.createElement("img");return t.classList.add("no-image-icon"),t.setAttribute("src",z),e.append(t),e}createTitle(e){this.itemTitle.classList.remove("skeleton"),this.itemTitle.classList.add("multi-lines-overflow"),this.itemTitle.textContent=e}createScore(e){this.itemScore.classList.remove("skeleton");const t=document.createElement("img");t.setAttribute("src",O),t.setAttribute("alt","별점");const n=document.createElement("span");n.textContent=String(e),this.itemScore.append(t),this.itemScore.append(n)}}const V=D;var $=n(675),U={};U.styleTagTransform=p(),U.setAttributes=c(),U.insert=s().bind(null,"head"),U.domAPI=o(),U.insertStyleElement=l(),t()($.Z,U),$.Z&&$.Z.locals&&$.Z.locals;const H={0:"점수가 없어요",1:"최악이예요",2:"별로예요",3:"보통이에요",4:"재미있어요",5:"명작이에요"},W="점수가 반영되었습니다.",G=n.p+"images/not_found.png";var Y=n(765),J={};J.styleTagTransform=p(),J.setAttributes=c(),J.insert=s().bind(null,"head"),J.domAPI=o(),J.insertStyleElement=l(),t()(Y.Z,J),Y.Z&&Y.Z.locals&&Y.Z.locals;var K=n(96),X={};X.styleTagTransform=p(),X.setAttributes=c(),X.insert=s().bind(null,"head"),X.domAPI=o(),X.insertStyleElement=l(),t()(K.Z,X),K.Z&&K.Z.locals&&K.Z.locals;var Q=n(964),ee={};ee.styleTagTransform=p(),ee.setAttributes=c(),ee.insert=s().bind(null,"head"),ee.domAPI=o(),ee.insertStyleElement=l(),t()(Q.Z,ee),Q.Z&&Q.Z.locals&&Q.Z.locals;class te{constructor(e){this.modalBox=document.createElement("div"),this.backdropElement=document.querySelector(".modal-backdrop"),this.modalContainer=document.querySelector(".modal-container"),this.children=e,this.modalContainer.append(this.children),this.setEvent()}render(){this.modalContainer.append(this.children)}setEvent(){this.blockModalBodyScroll(),this.backdropElement.addEventListener("click",(e=>{e.target===e.currentTarget&&(te.closeModal(),this.resetBodyScroll())})),window.addEventListener("keydown",(e=>{this.escKeyModalClose(e)}))}escKeyModalClose(e){27===e.keyCode&&te.closeModal()}static closeModal(){const e=document.querySelector(".modal-backdrop");e&&(e.classList.remove("modal-open"),document.body.style.overflowY="auto")}blockModalBodyScroll(){this.backdropElement.classList.contains("modal")&&(document.body.style.overflowY="hidden")}resetBodyScroll(){document.body.style.overflowY="auto"}}const ne=te;class ie extends Error{constructor(e){switch(super(),this.statusCode=e,!0){case e>=500:this.name="SERVER_ERROR",this.message="시스템에 문제가 생겼습니다. \n 다시 시도해 주세요.";break;case 404===e:this.name="NOT_FOUND",this.message="잘못된 요청입니다.";break;case 401===e:this.name="AUTHENTICATION_FAILED",this.message="인증에 실패하였습니다. \n 유효한 API를 입력해 주세요.";break;case e>=400:this.name="NETWORK_ERROR",this.message="네트워크 연결이 끊겼습니다. \n연결 후 다시 시도해 주세요.";break;default:this.name="FETCHING_ERROR",this.message="데이터를 불러오기에 실패하였습니다. \n 다시 시도해 주세요."}}}const oe=ie,re=n.p+"images/network_error.png",se=n.p+"images/system_error.png";var ae=n(247),ce={};ce.styleTagTransform=p(),ce.setAttributes=c(),ce.insert=s().bind(null,"head"),ce.domAPI=o(),ce.insertStyleElement=l(),t()(ae.Z,ce),ae.Z&&ae.Z.locals&&ae.Z.locals;var de=n(923),le={};le.styleTagTransform=p(),le.setAttributes=c(),le.insert=s().bind(null,"head"),le.domAPI=o(),le.insertStyleElement=l(),t()(de.Z,le),de.Z&&de.Z.locals&&de.Z.locals;const he=class{constructor({text:e,clickEvent:t,id:n}){this.buttonBox=document.createElement("button"),this.text=e,this.clickEvent=t,n&&(this.id=n)}render(){return this.buttonBox.classList.add("button"),this.buttonBox.textContent=this.text||"",this.buttonBox.addEventListener("click",(()=>this.clickEvent())),this.id&&(this.buttonBox.id=this.id),this.buttonBox}},pe=class{constructor({url:e,params:t}){this.url=e,this.params=t}get(){return new Promise((e=>{fetch(this.generateMovieApiUrl()).then((e=>{if(!e.ok)throw new oe(e.status);return e.json()})).then((t=>{e(t)})).catch((e=>{new q(e.message),(({currentError:e,fetchData:t})=>{const n=document.createElement("div");n.classList.add("error");const i=document.createElement("img");i.id="error-img",i.setAttribute("alt","에러 이미지");const o=document.createElement("div");o.id="error-title","SERVER_ERROR"===e.name&&(i.setAttribute("src",se),o.textContent=e.message),i.setAttribute("src",re),o.textContent=e.message;const r=document.createElement("div");r.classList.add("button-box");const s=new he({text:"홈화면으로",clickEvent:()=>{S(),location.reload()},id:"home-button"}).render(),a=new he({text:"재시도",clickEvent:t,id:"retry-button"}).render();r.append(s),r.append(a);const c=document.querySelector(".item-list");c&&(c.replaceWith(),n.append(i),n.append(o),n.append(r),c.append(n))})({currentError:e,fetchData:()=>this.get()})}))}))}generateMovieApiUrl(){const e=new URLSearchParams({api_key:"a66d9cf52e54a7e28ed3703c0beaca38",language:"ko-KR",...this.params});return`${this.url}?${e.toString()}`}},me=async({pageNumber:e})=>new pe({url:L.POPULAR_MOVIES,params:{page:e}}).get(),ue=async({query:e,pageNumber:t})=>new pe({url:L.SEARCH_MOVIES,params:{page:t,query:e}}).get(),ge=async({movieId:e})=>new pe({url:I(e)}).get(),xe={formatMovieItem:e=>({id:e.id,title:e.title,posterPath:e.poster_path,voteAverage:Number(e.vote_average?.toFixed(1))}),formatMovieDetail:e=>({title:e.title,posterPath:e.poster_path,voteAverage:Number(e.vote_average?.toFixed(1)),genres:e.genres.map((e=>e.name)),overview:e.overview})},fe=xe,ve=n.p+"images/delete.png";var be=n(385),we={};we.styleTagTransform=p(),we.setAttributes=c(),we.insert=s().bind(null,"head"),we.domAPI=o(),we.insertStyleElement=l(),t()(be.Z,we),be.Z&&be.Z.locals&&be.Z.locals;const ye=n.p+"images/star_empty.png",Ee="movie_score",Se=class{static get(){return JSON.parse(localStorage.getItem(Ee)||"[]")}static getScore(e){const t=this.get();if(t.length){const n=t.filter((t=>Number(t.id)===e))[0];return n?n.score:0}return 0}static updateScore({movieId:e,newScore:t}){const n=this.get();if(n.length){const i=[...n].filter((t=>t.id!==e)),o=[...i,{id:e,score:t}];localStorage.setItem(Ee,JSON.stringify(o))}else{const n=[{id:e,score:t}];localStorage.setItem(Ee,JSON.stringify(n))}new q(W)}},ke=class{constructor({movieList:e}){this.movieList=e,this.movieInfoModal=new class{constructor(){this.movieInfoModal=document.createElement("div"),this.movieInfoModal.id="movie-info-modal",this.movieId=Number(y("movie_id")),this.movieInfoContainer=document.createElement("div"),this.movieInfoContainer.id="movie-info-flex-wrapper"}async render(){const e=document.createElement("div");e.id="movie-info-flex-wrapper";const t=document.createElement("div");t.id="movie-info-detail-box";const n=await this.getMovieDetail(Number(this.movieId));if(n){const{title:i,posterPath:o,voteAverage:r,genres:s,overview:a}=n,c=this.createTitle(i);this.movieInfoModal.append(c);const d=this.createPoster(o,i);e.append(d);const l=this.createGenreAndScore(s,r);t.append(l);const h=this.createOverview(a);t.append(h),e.append(t);const p=this.createDeleteButton();this.movieInfoModal.append(p),this.movieInfoModal.append(e)}new ne(this.movieInfoModal),new class{constructor(){this.movieId=y("movie_id"),this.score=Se.getScore(Number(this.movieId))||0,this.userVoteBox=document.createElement("div"),this.userVoteBox.id="user-vote-box",this.starAndInfoBox=document.createElement("div"),this.starAndInfoBox.id="star-with-info-box",this.getOriginalUserScore(),this.render(),this.setEvent()}setEvent(){this.setClickStarsEvent()}getOriginalUserScore(){this.score=Se.getScore(Number(this.movieId))}render(){const e=document.createElement("span");e.textContent="내 별점",e.id="score-title",this.userVoteBox.append(e),this.createStarsByScore(),this.createScoreInfo();const t=document.querySelector("#movie-info-detail-box");t&&t.append(this.userVoteBox)}createStarsByScore(){const e=[...Array(this.score).fill(O),...Array(5-this.score).fill(ye)],t=new DocumentFragment;e.forEach(((e,n)=>{const i=document.createElement("img");i.classList.add("star"),e===O?i.classList.add("filled-star"):i.classList.add("empty-star"),i.dataset.score=String(n+1),i.setAttribute("src",e),t.append(i)})),this.userVoteBox.append(t)}createScoreInfo(){const e=document.createElement("span");e.id="score-info";const t=document.createElement("span"),n=document.createElement("span");t.id="score-number",n.id="score-text",this.score&&(t.textContent=String(2*this.score)),n.textContent=H[String(this.score)],e.append(t),e.append(n),this.userVoteBox.append(e)}setClickStarsEvent(){let e;[...document.querySelectorAll(".star")].forEach((t=>{t.addEventListener("click",(t=>{const n=Number(t.currentTarget.dataset.score);this.updateScoreView(n),clearTimeout(e),e=setTimeout((()=>{Se.updateScore({movieId:Number(this.movieId),newScore:this.score}),new q(W)}),2e3)}))}))}updateScoreView(e){this.score=e,this.updateStars(this.score),this.updateScoreInfo(this.score)}updateStars(e){[...document.querySelectorAll(".star")].forEach(((t,n)=>{t.classList.remove("filled-star","empty-star"),n+1<=e?(t.classList.add("filled-star"),t.setAttribute("src",O)):(t.classList.add("empty-star"),t.setAttribute("src",ye))}))}updateScoreInfo(e){const t=document.querySelector("#score-number"),n=document.querySelector("#score-text");t&&n&&(t.textContent=String(2*e),n.textContent=H[String(e)])}}}rerender(){this.movieId=Number(y("movie_id")),document.querySelector("#movie-info-modal")?.replaceChildren(),this.render()}async getMovieDetail(e){const t=await ge({movieId:e});return fe.formatMovieDetail(t)}createTitle(e){const t=document.createElement("div");t.id="movie-info-modal-header";const n=document.createElement("span");return n.id="movie-title",n.textContent=e,t.append(n),t}createPoster(e,t){if(e){const n=document.createElement("img");return n.id="movie-info-poster",n.setAttribute("src",A+e),n.setAttribute("alt",t),n}{const e=document.createElement("div");e.id="movie-info-poster";const n=document.createElement("img");return n.classList.add("no-image-icon"),n.setAttribute("src",z),e.append(n),e.setAttribute("alt",t),e}}createGenreAndScore(e,t){const n=document.createElement("div");n.id="movie-info-genre-score-box";const i=this.createGenre(e),o=this.createScore(t);return n.append(i),n.append(o),n}createGenre(e){const t=document.createElement("span");return t.id="movie-info-genre",t.textContent=e.join(", "),t}createScore(e){const t=document.createElement("img");t.setAttribute("src",O),t.classList.add("star-icon");const n=document.createElement("span");n.id="movie-info-score-box";const i=document.createElement("span");return i.id="movie-info-score",i.textContent=String(e),n.append(t),n.append(i),n}createOverview(e){const t=document.createElement("div");return t.id="movie-overview",t.textContent=e,t}createDeleteButton(){const e=document.createElement("button");e.classList.add("modal-close-button","flex-center");const t=document.createElement("img");return t.setAttribute("src",ve),e.append(t),e.addEventListener("click",(()=>{ne.closeModal(),(e=>{const t=new URL(window.location.href);t.searchParams.delete("movie_id");const n=`${t.pathname}${t.search}`;window.history.replaceState({},"",n)})()})),e}}}set newList(e){this.movieList=e}render(){if(!this.movieList.length)return(()=>{const e=document.createElement("div");e.classList.add("error");const t=document.createElement("img");t.setAttribute("src",G),t.id="error-img",t.setAttribute("alt","영화가 없습니다.");const n=document.createElement("h2");n.id="error-title",n.textContent="검색 결과가 없습니다.";const i=document.createElement("ul");i.id="error-text";const o=new DocumentFragment,r=document.createElement("li"),s=document.createElement("li"),a=document.createElement("li");r.textContent="- 단어의 철자가 정확한지 확인해 주세요.",s.textContent="- 일반적인 검색어로 다시 검색해 보세요.",a.textContent="- 두 단어 이상의 검색어인 경우 띄어쓰기를 확인해 보세요.",o.append(r),o.append(s),o.append(a),i.append(o);const c=document.querySelector(".item-view");c&&(c.replaceChildren(),e.append(t),e.append(n),e.append(i),c.append(e))})();this.renderMovieList()}renderSkeleton(){const e=new DocumentFragment;Array.from({length:20}).forEach(((t,n)=>{const i=new class{constructor(e){this.itemBox=document.createElement("li"),this.itemCard=document.createElement("a"),this.itemThumbnail=document.createElement("img"),this.itemTitle=document.createElement("div"),this.itemScore=document.createElement("p"),this.itemBox.setAttribute("data-skeleton-id",String(e)),this.itemBox.classList.add("item-box"),this.itemCard.classList.add("item-card")}renderSkeleton(){return this.itemThumbnail.classList.add("item-thumbnail","skeleton"),this.itemTitle.classList.add("item-title","skeleton"),this.itemScore.classList.add("item-score","skeleton"),this.itemCard.append(this.itemThumbnail),this.itemCard.append(this.itemTitle),this.itemCard.append(this.itemScore),this.itemBox.append(this.itemCard),this.itemBox}}(n+1).renderSkeleton();e.append(i)}));const t=document.querySelector(".item-list");t&&t.append(e)}renderMovieList(){Array.from({length:20}).forEach(((e,t)=>{const n=document.querySelector(`li[data-skeleton-id="${t+1}"]`);n&&this.movieList[t]&&(n.removeAttribute("data-skeleton-id"),n.setAttribute("data-movie-id",String(this.movieList[t].id)),new V({skeletonTemplate:n,movie:this.movieList[t],rerenderModal:()=>this.movieInfoModal.rerender()}).render())})),this.removeRemainingSkeletons()}removeRemainingSkeletons(){document.querySelectorAll("[data-skeleton-id]").forEach((e=>{e.remove()}))}};var Le=n(145),Ie={};Ie.styleTagTransform=p(),Ie.setAttributes=c(),Ie.insert=s().bind(null,"head"),Ie.domAPI=o(),Ie.insertStyleElement=l(),t()(Le.Z,Ie),Le.Z&&Le.Z.locals&&Le.Z.locals;new class{constructor(){this.infiniteScrollDataLoader=new class{constructor(){this.currentPage=1,this.totalPage=1,this.itemViewBox=document.querySelector(".item-view"),this.movieListBox=document.createElement("ul"),this.skeletonLoading=!1,this.movieList=new ke({movieList:[]}),this.oberveScrollAndRenderNextPage()}resetPage(){this.currentPage=1}oberveScrollAndRenderNextPage(){let e;window.addEventListener("scroll",(()=>{e||(e=setTimeout((()=>{window.innerHeight+window.scrollY+150>=document.body.offsetHeight&&this.currentPage<this.totalPage&&(this.currentPage+=1,this.renderSkeleton(),this.renderTargetPage(),this.skeletonLoading=!1),e=null}),1e3))}))}renderSkeleton(){this.skeletonLoading||(this.movieList.renderSkeleton(),this.skeletonLoading=!0)}async renderTargetPage(){const e=await this.selectAPIAndFetch(),t=e.results.map((e=>fe.formatMovieItem(e)));this.totalPage=e.total_pages,this.movieList.newList=t,this.movieList.render(),this.totalPage}async selectAPIAndFetch(){const e=w(),t=y(T);return e===B&&t?ue({pageNumber:this.currentPage,query:t}):me({pageNumber:this.currentPage})}},this.itemViewBox=document.querySelector(".item-view"),this.movieListBox=document.createElement("ul"),this.title=new class{constructor(){this.itemViewBox=document.querySelector(".item-view"),this.titleBox=document.createElement("h2"),this.itemViewBox.prepend(this.titleBox),this.titleBox.id="list-title"}renderTitle(){if(w()===B){const e=y(T)||"";this.titleBox.textContent=(e=>`"${e}" 검색 결과`)(e)}else this.titleBox.textContent="지금 인기 있는 영화"}},this.movieListBox.classList.add("item-list"),this.movieListBox.classList.add("grid"),this.movieListInstance=new ke({movieList:[]}),this.itemViewBox.append(this.movieListBox),this.renderFirstPage(),new class{constructor(){this.topButtonBox=document.createElement("button"),this.topButtonBox.id="top-scroll-button",this.topButtonBox.textContent="TOP",this.render(),this.setEvent()}render(){const e=document.querySelector("#app");e&&e.append(this.topButtonBox)}scrollEvent(){window.scrollY>500?this.topButtonBox.classList.add("show"):this.topButtonBox.classList.remove("show")}setEvent(){window.addEventListener("scroll",(({fn:e,duration:t})=>{let n=0;return i=>{const o=Date.now();o-n>=t&&(e(i),n=o)}})({fn:this.scrollEvent.bind(this),duration:3e3})),this.topButtonBox.addEventListener("click",(()=>{window.scrollTo({top:0,behavior:"smooth"})}))}}}async renderFirstPage(){this.renderHeader(),this.title.renderTitle(),this.movieListInstance.renderSkeleton(),this.infiniteScrollDataLoader.renderTargetPage()}async rerenderMovieList(){this.title.renderTitle(),this.removeExistedData(),this.infiniteScrollDataLoader.resetPage(),this.movieListInstance.renderSkeleton(),this.infiniteScrollDataLoader.renderTargetPage()}renderHeader(){new class{constructor(e){this.headerBox=document.querySelector("header"),this.header=document.createElement("h1"),this.headerImage=document.createElement("img"),this.rerenderList=e,this.render(),this.setEvent()}render(){if(this.headerImage.setAttribute("src",b),this.headerImage.id="logo",this.headerImage.setAttribute("alt","로고 이미지"),this.header.append(this.headerImage),!this.headerBox)return;this.headerBox.append(this.header),new class{constructor(e){this.currentPage=1,this.totalPage=1,this.prevWidth=window.innerWidth,this.searchInputBox=document.createElement("form"),this.searchInput=document.createElement("input"),this.searchButton=document.createElement("button"),this.inputFoldButton=document.createElement("button"),this.header=document.querySelector("header"),this.headerLogo=document.querySelector("header > h1"),this.searchInputBox.classList.add("search-box","flex-center"),this.searchButton.id="search-button",this.rerenderList=e,this.render(),this.setEvents()}render(){this.createSearchInput(),this.createSearchButton(),this.createInputFoldButton()}createSearchInput(){this.searchInput.setAttribute("type","text"),this.searchInput.setAttribute("placeholder","검색"),this.searchInput.id="search-input",this.searchInputBox.append(this.searchInput),this.searchInputBox.append(this.searchButton),this.header.append(this.searchInputBox)}createInputFoldButton(){this.inputFoldButton.id="input-fold-button",this.inputFoldButton.textContent=">\nfold",this.inputFoldButton.style.display="none",this.header.prepend(this.inputFoldButton)}createSearchButton(){const e=document.createElement("img");e.id="search-icon",this.searchButton.id="search-button",this.searchButton.classList.add("flex-center"),e.setAttribute("src",R),this.searchButton.append(e)}setEvents(){let e;this.changeViewByResize(),window.addEventListener("resize",(()=>{clearTimeout(e),e=setTimeout((()=>{this.changeViewByResize()}),500)})),this.setSubmitEvent(),this.inputFoldButton.addEventListener("click",(e=>{e.preventDefault(),this.setCloseInputEvent()}))}changeViewByResize(){if(window.innerWidth<=660)return this.searchInput.classList.contains("open")&&(this.setCloseInputEvent(),this.searchInput.classList.remove("open")),void(this.searchInput.style.display="none");this.setResetInput()}setSubmitEvent(){this.searchButton.addEventListener("click",(e=>{if(e.preventDefault(),this.searchInput.classList.contains("open"))return this.searchInput.value.length?((e=>{const t=[window.location.pathname.split("/").slice(0,-1),e].join("/");window.history.replaceState({},"",t)})(B),E(T,this.searchInput.value),this.rerenderList()):(this.searchInput.focus(),new q("검색어를 입력하세요."));this.setOpenInputEvent()}))}setResetInput(){this.searchInput.classList.add("open"),this.searchInput.style.display="block",this.headerLogo.style.display="block",this.inputFoldButton.style.display="none"}setOpenInputEvent(){this.searchInput.classList.remove("shrink"),this.searchInput.style.display="block",this.inputFoldButton.style.display="block",this.searchInput.focus(),this.searchInput.classList.add("open"),this.headerLogo.style.display="none"}setCloseInputEvent(){this.searchInput.classList.remove("open"),this.inputFoldButton.style.display="none",this.headerLogo.style.display="block",this.searchInput.classList.add("shrink")}}(this.rerenderList);const e=document.querySelector("#app");e&&e.prepend(this.headerBox)}setEvent(){this.header.addEventListener("click",(()=>{S(),this.rerenderList()}))}}(this.rerenderMovieList.bind(this))}removeExistedData(){const e=document.querySelector("#not-found");e&&e.remove();const t=document.querySelector(".item-list");t&&(t.replaceChildren(),this.resetSearchInput())}resetSearchInput(){if(w()!==B){const e=document.querySelector(".search-box input");if(!e)return;e.value=""}}}})()})();